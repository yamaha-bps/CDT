<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CDT: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CDT
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">C++ library for constrained Delaunay triangulation (CDT)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CDT Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="./images/CDT_logo.png" alt="CDT Logo" height="120"/>
</div>
<h1><a class="el" href="namespaceCDT.html" title="Doxygen suppression. ">CDT</a>: Constrained Delaunay Triangulation</h1>
<p>Numerically robust C++ implementation of constrained Delaunay triangulation (<a class="el" href="namespaceCDT.html" title="Doxygen suppression. ">CDT</a>)</p><ul>
<li>uses robust geometric predicates for numerical robustness</li>
<li>can be consumed as header-only (default) or compiled (if <code>CDT_USE_AS_COMPILED_LIBRARY</code> is defined)</li>
<li>permissively-licensed (MPL-2.0)</li>
<li>backwards-compatible with C++03</li>
<li>cross-platform: tested on Windows and Linux</li>
</ul>
<p><b>Please ★ this repository if it helped. This means a lot to the authors :)</b></p>
<p><b>Table of Contents</b></p><ul>
<li><a href="#online-doc">Online Documentation</a></li>
<li><a href="#algorithm">Algorithm</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#details">Details</a></li>
<li><a href="#using">Using</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#bibliography">Bibliography</a></li>
</ul>
<h2><a class="anchor" id="online-doc"></a>Online Documentation</h2>
<p><a href="https://artem-ogre.github.io/CDT/doxygen/index.html"><b>Latest online documentation</b></a> (automatically generated with Doxygen).</p>
<h2><a class="anchor" id="algorithm"></a>Algorithm</h2>
<p>Implementation closely follows incremental construction algorithm by Anglada [<a href="#1">1</a>]. During the legalization, the cases when at least one vertex belongs to super-triangle are resolved using an approach as described in Žalik et. al [<a href="#2">2</a>]. For efficient search of a triangle that contains inserted point randomized walking search is applied [<a href="#3">3</a>]. To find the starting triangle we first find the nearest point using boost::rtree or using a closest random point.</p>
<p><b>Pre-conditions:</b></p><ul>
<li>No duplicated points (use provided functions for removing duplicate points and re-mapping edges)</li>
<li>No two constraint edges intersect each other</li>
</ul>
<p><b>Post-conditions:</b></p><ul>
<li>Triangles have counter-clockwise (CCW) winding</li>
</ul>
<h2><a class="anchor" id="installation"></a>Installation</h2>
<p><b>Adding to CMake project directly</b></p>
<p>Can be done with <a href="https://cmake.org/cmake/help/latest/command/add_subdirectory.html"><code>add_subdirectory</code></a> command (e.g., see <a class="el" href="namespaceCDT.html" title="Doxygen suppression. ">CDT</a> visualizer's CMakeLists.txt). </p><div class="fragment"><div class="line"># add CDT as subdirectory to CMake project</div><div class="line">add_subdirectory(../CDT CDT)</div></div><!-- fragment --><p> <b>Adding to non-CMake project directly</b></p>
<p>To use as <b>header-only</b> copy headers from <code>CDT/include</code></p>
<p>To use as a <b>compiled library</b> define <code>CDT_USE_AS_COMPILED_LIBRARY</code> and compile <code><a class="el" href="CDT_8cpp.html" title="Explicit template instantiations for float and double coordinate types. ">CDT.cpp</a></code></p>
<p>**Consume pre-build <a class="el" href="namespaceCDT.html" title="Doxygen suppression. ">CDT</a> in CMake project with <a href="https://cmake.org/cmake/help/latest/command/find_package.html"><code>find_package</code></a>**</p>
<p><a class="el" href="namespaceCDT.html" title="Doxygen suppression. ">CDT</a> provides package config files that can be included by other projects to find and use it.</p>
<div class="fragment"><div class="line"># from CDT folder</div><div class="line">mkdir build &amp;&amp; cd build</div><div class="line"># configure with desired CMake flags</div><div class="line">cmake -DCDT_USE_AS_COMPILED_LIBRARY=ON -DCDT_USE_BOOST=ON ..</div><div class="line"># build and install</div><div class="line">cmake --build . &amp;&amp; cmake --install .</div></div><!-- fragment --><div class="fragment"><div class="line"># In consuming CMakeLists.txt</div><div class="line">find_package(CDT REQUIRED CONFIG)</div></div><!-- fragment --><h2><a class="anchor" id="details"></a>Details</h2>
<ul>
<li>Supports three ways of removing outer triangles:<ul>
<li><code>eraseSuperTriangle</code>: produce a convex-hull</li>
<li><code>eraseOuterTriangles</code>: remove all outer triangles until a boundary defined by constraint edges</li>
<li><code>eraseOuterTrianglesAndHoles</code>: remove outer triangles and automatically detected holes. Starts from super-triangle and traverses triangles until outer boundary. Triangles outside outer boundary will be removed. Then traversal continues until next boundary. Triangles between two boundaries will be kept. Traversal to next boundary continues (this time removing triangles). Stops when all triangles are traversed.</li>
</ul>
</li>
<li>Removing duplicate points and re-mapping constraint edges can be done using functions: <code>RemoveDuplicatesAndRemapEdges, RemoveDuplicates, RemapEdges</code></li>
<li>Uses William C. Lenthe's implementation of robust orientation and in-circle geometric predicates: <a href="https://github.com/wlenthe/GeometricPredicates">https://github.com/wlenthe/GeometricPredicates</a>.</li>
<li><p class="startli">Boost is an optional dependency used for:</p><ul>
<li><b>Performance:</b> rtree implementation for finding the closest point during points insertion: <code>nearestVertexRtree</code> is a faster than <code>nearestVertexRand</code>. Also <code>boost::container::flat_set</code> is used for faster triangle walking</li>
<li><b>Fall back</b> for standard library features missing in C++98 compilers.</li>
</ul>
<p class="startli">To opt in define <code>CDT_USE_BOOST</code> either in CMake or in a preprocessor.</p>
</li>
<li>A demonstrator tool is included: requires Qt for GUI. When running demo-tool <b>make sure</b> that working directory contains folder <code>test files</code>.</li>
</ul>
<h2><a class="anchor" id="using"></a>Using</h2>
<p><b>Synopsis of the public API (see <a class="el" href="CDT_8h.html" title="Public API. ">CDT.h</a> )</b></p>
<div class="fragment"><div class="line">{c++}</div><div class="line">namespace CDT</div><div class="line">{</div><div class="line"></div><div class="line">struct FindingClosestPoint</div><div class="line">{</div><div class="line">    enum Enum</div><div class="line">    {</div><div class="line">#ifdef CDT_USE_BOOST</div><div class="line">        BoostRTree,</div><div class="line">#endif</div><div class="line">        ClosestRandom,</div><div class="line">    };</div><div class="line">};</div><div class="line"></div><div class="line">template &lt;typename T&gt;</div><div class="line">class Triangulation</div><div class="line">{</div><div class="line">public:</div><div class="line">    /*____ Data ____*/</div><div class="line">    std::vector&lt;Vertex&lt;T&gt; &gt; vertices;</div><div class="line">    std::vector&lt;Triangle&gt; triangles;</div><div class="line">    EdgeUSet fixedEdges;</div><div class="line">    /*____ API _____*/</div><div class="line">    Triangulation(</div><div class="line">        const FindingClosestPoint::Enum closestPtMode,</div><div class="line">        const size_t nRandSamples = 10);</div><div class="line">    void insertVertices(const std::vector&lt;V2d&lt;T&gt; &gt;&amp; vertices);</div><div class="line">    void insertEdges(const std::vector&lt;Edge&gt;&amp; edges);</div><div class="line">    void eraseSuperTriangle();</div><div class="line">    void eraseOuterTriangles();</div><div class="line">    void eraseOuterTrianglesAndHoles();</div><div class="line">    // ...</div><div class="line">}</div><div class="line"></div><div class="line">struct DuplicatesInfo</div><div class="line">{</div><div class="line">    std::vector&lt;std::size_t&gt; mapping;    ///&lt; vertex index mapping</div><div class="line">    std::vector&lt;std::size_t&gt; duplicates; ///&lt; duplicates&#39; indices</div><div class="line">};</div><div class="line"></div><div class="line">template &lt;typename T&gt;</div><div class="line">DuplicatesInfo RemoveDuplicates(std::vector&lt;V2d&lt;T&gt; &gt;&amp; vertices);</div><div class="line"></div><div class="line">void RemapEdges(</div><div class="line">    std::vector&lt;Edge&gt;&amp; edges,</div><div class="line">    const std::vector&lt;std::size_t&gt;&amp; mapping);</div><div class="line"></div><div class="line">template &lt;typename T&gt;</div><div class="line">DuplicatesInfo RemoveDuplicatesAndRemapEdges(</div><div class="line">    std::vector&lt;V2d&lt;T&gt; &gt;&amp; vertices,</div><div class="line">    std::vector&lt;Edge&gt;&amp; edges);</div><div class="line"></div><div class="line">template &lt;typename T&gt;</div><div class="line">std::vector&lt;unsigned short&gt; CalculateTriangleDepths(</div><div class="line">    const std::vector&lt;Vertex&lt;T&gt; &gt;&amp; vertices,</div><div class="line">    const TriangleVec&amp; triangles,</div><div class="line">    const EdgeUSet&amp; fixedEdges);</div><div class="line"></div><div class="line">template &lt;typename T&gt;</div><div class="line">TriIndUSet PeelLayer(</div><div class="line">    std::stack&lt;TriInd&gt; seeds,</div><div class="line">    const TriangleVec&amp; triangles,</div><div class="line">    const EdgeUSet&amp; fixedEdges,</div><div class="line">    const unsigned short layerDepth,</div><div class="line">    std::vector&lt;unsigned short&gt;&amp; triDepths);</div><div class="line"></div><div class="line">} // namespace CDT</div></div><!-- fragment --><p><b>Triangulated convex-hull example</b></p>
<div class="fragment"><div class="line">{c++}</div><div class="line">#include &quot;CDT.h&quot;</div><div class="line">using Triangulation = CDT::Triangulation&lt;float&gt;;</div><div class="line"></div><div class="line">Triangulation cdt = </div><div class="line">    Triangulation(CDT::FindingClosestPoint::BoostRTree);</div><div class="line">/* </div><div class="line">  // Without boost::rtree:</div><div class="line">  Triangulation(CDT::FindingClosestPoint::ClosestRandom, 10);</div><div class="line">*/</div><div class="line">cdt.insertVertices(/* points */);</div><div class="line">cdt.eraseSuperTriangle();</div><div class="line">/* ... */ = cdt.vertices;</div><div class="line">/* ... */ = cdt.edges;</div></div><!-- fragment --><p> <b>Triangulated region constrained by boundary example</b></p>
<div class="fragment"><div class="line">{c++}</div><div class="line">// ... same as above</div><div class="line">cdt.insertVertices(/* points */);</div><div class="line">cdt.insertEdges(/* boundary edges */);</div><div class="line">cdt.eraseOuterTriangles();</div><div class="line">/* ... */ = cdt.vertices;</div><div class="line">/* ... */ = cdt.edges;</div></div><!-- fragment --> <h2><a class="anchor" id="contributors"></a>Contributors</h2>
<ul>
<li><a href="https://github.com/artem-ogre">Artem Amirkhanov</a></li>
<li><a href="https://github.com/kalleakerblom">Karl Åkerblom</a></li>
<li><a href="https://github.com/baiwenlei">baiwenlei</a>: dragging and zooming in the viewer</li>
</ul>
<h2><a class="anchor" id="contributing"></a>Contributing</h2>
<p>Any feedback and contributions are welcome.</p>
<h2><a class="anchor" id="license"></a>License</h2>
<p><a href="https://www.mozilla.org/en-US/MPL/2.0/FAQ/">Mozilla Public License, v. 2.0</a></p>
<h2><a class="anchor" id="examples"></a>Examples</h2>
<div class="image">
<img src="./images/A.png" alt="A" height="200"/>
</div>
 <div class="image">
<img src="./images/Bean.png" alt="Bean" height="200"/>
</div>
 <div class="image">
<img src="./images/Guitar.png" alt="Guitar" height="200"/>
</div>
 <div class="image">
<img src="./images/Guitar_no_holes.png" alt="Guitar with holes" height="200"/>
</div>
 <div class="image">
<img src="./images/LakeSuperior.png" alt="Lake Superior" height="200"/>
</div>
 <div class="image">
<img src="./images/Sweden.png" alt="Sweden" height="200"/>
</div>
<h2><a class="anchor" id="bibliography"></a>Bibliography</h2>
<p><a class="anchor" id="1"></a>[1] Marc Vigo Anglada, An improved incremental algorithm for constructing restricted Delaunay triangulations, <em>Computers &amp; Graphics</em>, Volume 21, Issue 2, 1997, Pages 215-223, ISSN 0097-8493.</p>
<p><a class="anchor" id="2"></a>[2] Borut Žalik and Ivana Kolingerová, An incremental construction algorithm for Delaunay triangulation using the nearest-point paradigm, <em>International Journal of Geographical Information Science</em>, Volume 17, Issue 2, Pages 119-138, 2003, DOI 10.1080/713811749.</p>
<p><a class="anchor" id="3"></a>[3] Olivier Devillers, Sylvvain Pion, Monique Tellaud, Walking in a triangulation, <em>International Journal of Foundations of Computer Science</em>, Volume 13, Issue 2, Pages 181-199, 2002 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
